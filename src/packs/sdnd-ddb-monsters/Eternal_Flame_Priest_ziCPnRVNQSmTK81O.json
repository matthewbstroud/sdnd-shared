{
  "name": "Eternal Flame Priest",
  "type": "npc",
  "_id": "ziCPnRVNQSmTK81O",
  "img": "https://www.dndbeyond.com/avatars/25141/968/637856468432697358.png",
  "system": {
    "currency": {
      "pp": 0,
      "gp": 0,
      "ep": 0,
      "sp": 0,
      "cp": 0
    },
    "abilities": {
      "str": {
        "value": 12,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "dex": {
        "value": 15,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "con": {
        "value": 14,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "int": {
        "value": 10,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "wis": {
        "value": 11,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "cha": {
        "value": 16,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      }
    },
    "bonuses": {
      "mwak": {
        "attack": "",
        "damage": ""
      },
      "rwak": {
        "attack": "",
        "damage": ""
      },
      "msak": {
        "attack": "",
        "damage": ""
      },
      "rsak": {
        "attack": "",
        "damage": ""
      },
      "abilities": {
        "check": "",
        "save": "",
        "skill": ""
      },
      "spell": {
        "dc": ""
      }
    },
    "skills": {
      "acr": {
        "ability": "dex",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ani": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "arc": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ath": {
        "ability": "str",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "dec": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 1,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "his": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ins": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "itm": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 1,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "inv": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "med": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "nat": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "prc": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "prf": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "per": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "rel": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 1,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "slt": {
        "ability": "dex",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ste": {
        "ability": "dex",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "sur": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      }
    },
    "tools": {},
    "spells": {
      "spell1": {
        "value": 4,
        "override": 4
      },
      "spell2": {
        "value": 3,
        "override": 3
      },
      "spell3": {
        "value": 2,
        "override": 2
      },
      "spell4": {
        "value": 0,
        "override": null
      },
      "spell5": {
        "value": 0,
        "override": null
      },
      "spell6": {
        "value": 0,
        "override": null
      },
      "spell7": {
        "value": 0,
        "override": null
      },
      "spell8": {
        "value": 0,
        "override": null
      },
      "spell9": {
        "value": 0,
        "override": null
      },
      "pact": {
        "value": 0,
        "override": null
      }
    },
    "attributes": {
      "init": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "bonus": ""
      },
      "movement": {
        "burrow": null,
        "climb": null,
        "fly": null,
        "swim": null,
        "walk": 30,
        "units": "ft",
        "hover": false
      },
      "attunement": {
        "max": 3
      },
      "senses": {
        "darkvision": 0,
        "blindsight": 0,
        "tremorsense": 0,
        "truesight": 0,
        "units": "ft",
        "special": ""
      },
      "spellcasting": "cha",
      "exhaustion": 0,
      "concentration": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "bonuses": {
          "save": ""
        },
        "limit": 1
      },
      "ac": {
        "flat": 12,
        "calc": "natural",
        "formula": ""
      },
      "hp": {
        "value": 52,
        "max": 52,
        "temp": 0,
        "tempmax": 0,
        "formula": "8d8 + 16"
      },
      "death": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "success": 0,
        "failure": 0
      }
    },
    "details": {
      "biography": {
        "value": "",
        "public": ""
      },
      "alignment": "Neutral Evil",
      "race": null,
      "type": {
        "value": "humanoid",
        "subtype": "human"
      },
      "environment": "",
      "cr": 3,
      "spellLevel": 5,
      "source": {
        "book": "Princes of the Apocalypse",
        "page": "200",
        "custom": "",
        "license": ""
      }
    },
    "resources": {
      "legact": {
        "value": 0,
        "max": 0
      },
      "legres": {
        "value": 0,
        "max": 0
      },
      "lair": {
        "value": false,
        "initiative": null
      }
    },
    "traits": {
      "size": "med",
      "di": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "dr": {
        "value": [
          "fire"
        ],
        "bypasses": [],
        "custom": ""
      },
      "dv": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "dm": {
        "amount": {},
        "bypasses": []
      },
      "ci": {
        "value": [],
        "custom": ""
      },
      "languages": {
        "value": [
          "common",
          "ignan"
        ],
        "custom": ""
      }
    }
  },
  "prototypeToken": {
    "name": "Eternal Flame Priest",
    "displayName": 20,
    "actorLink": false,
    "appendNumber": false,
    "prependAdjective": false,
    "texture": {
      "src": "ddb-images/other/npc-token-Eternal-Flame-Priest.jpeg",
      "scaleX": 1,
      "scaleY": 1,
      "offsetX": 0,
      "offsetY": 0,
      "rotation": 0
    },
    "width": 1,
    "height": 1,
    "lockRotation": false,
    "rotation": 0,
    "alpha": 1,
    "disposition": -1,
    "displayBars": 20,
    "bar1": {
      "attribute": "attributes.hp"
    },
    "bar2": {
      "attribute": null
    },
    "light": {
      "alpha": 0.5,
      "angle": 360,
      "bright": 0,
      "coloration": 1,
      "dim": 0,
      "attenuation": 0.5,
      "luminosity": 0.5,
      "saturation": 0,
      "contrast": 0,
      "shadows": 0,
      "animation": {
        "type": null,
        "speed": 5,
        "intensity": 5,
        "reverse": false
      },
      "darkness": {
        "min": 0,
        "max": 1
      }
    },
    "sight": {
      "enabled": false,
      "range": 0,
      "angle": 360,
      "visionMode": "basic",
      "color": null,
      "attenuation": 0.1,
      "brightness": 0,
      "saturation": 0,
      "contrast": 0
    },
    "detectionModes": [],
    "flags": {
      "monks-tokenbar": {
        "include": "default"
      },
      "tagger": {
        "tags": [
          "dndbeyond",
          "ddb-importer",
          "humanoid"
        ]
      }
    },
    "randomImg": false
  },
  "items": [
    {
      "_id": "mEK4ZrR7irSSuLpQ",
      "name": "Dagger",
      "type": "weapon",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p><em><strong></strong> Melee or Ranged Weapon Attack:</em> +4 to hit, reach 5 ft. or range 20/60 ft., one target. <em>Hit:</em> [[/damage 1d4 + @mod type=piercing average=true]] damage.</p>\n</section>\nThe [[lookup @name]] attacks with its [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Princes of the Apocalypse",
          "page": "200",
          "custom": "",
          "license": ""
        },
        "identified": true,
        "unidentified": {
          "description": ""
        },
        "container": null,
        "quantity": 1,
        "weight": 0,
        "price": {
          "value": 0,
          "denomination": "gp"
        },
        "rarity": "",
        "attunement": 0,
        "equipped": true,
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": 20,
          "long": 60,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": "dex",
        "actionType": "mwak",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "1d4[piercing] + @mod",
              "piercing"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "dc": null,
          "ability": "",
          "scaling": "flat"
        },
        "summons": null,
        "armor": {
          "value": null
        },
        "hp": {
          "value": null,
          "max": null,
          "dt": null,
          "conditions": ""
        },
        "type": {
          "value": "simpleM",
          "baseItem": ""
        },
        "magicalBonus": null,
        "properties": [
          "fin",
          "lgt",
          "thr"
        ],
        "proficient": 1
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<strong>Dagger.</strong>",
          "fullName": "Dagger.",
          "actionCopy": false,
          "type": "action",
          "actionInfo": {
            "damage": {
              "parts": [
                [
                  "1d4[piercing] + @mod",
                  "piercing"
                ]
              ],
              "versatile": ""
            },
            "baseAbility": "dex",
            "toHit": 4,
            "proficient": true,
            "extraAttackBonus": 0
          }
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default"
        }
      },
      "img": "icons/weapons/daggers/dagger-curved-black.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": null,
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null
      },
      "_key": "!actors.items!ziCPnRVNQSmTK81O.mEK4ZrR7irSSuLpQ"
    },
    {
      "_id": "XgJqedcAo4ZmqLfb",
      "name": "Spellcasting",
      "type": "feat",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p><em><strong>Spellcasting.</strong></em> The priest is a 5th-level spellcaster. Its spellcasting ability is &amp;Reference[cha]{Charisma} (spell save DC 13, +5 to hit with spell attacks). It knows the following sorcerer spells (an asterisked spell is from <a title=\"appendix B\" href=\"https://www.dndbeyond.com/sources/pota/appendix-b-spells\">appendix B</a>):</p><p>Cantrips (at will): control flames,* create bonfire,* &amp;Reference[fire]{fire} bolt, light, minor &amp;Reference[ill]{illusion}</p><p>1st level (4 slots): burning hands, expeditious retreat, mage armor</p><p>2nd level (3 slots): blur, scorching ray</p><p>3rd level (2 slots): fireball</p>\n</section>\nThe [[lookup @name]] uses [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Princes of the Apocalypse",
          "page": "200",
          "custom": "",
          "license": ""
        },
        "activation": {
          "cost": null,
          "type": "",
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": ""
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": ""
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": null,
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "dc": null,
          "ability": "",
          "scaling": "flat"
        },
        "summons": null,
        "type": {
          "value": "monster",
          "subtype": ""
        },
        "properties": [],
        "requirements": "",
        "recharge": {
          "value": null,
          "charged": false
        }
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<em><strong>Spellcasting.</strong></em>",
          "fullName": "Spellcasting.",
          "actionCopy": false,
          "type": "special",
          "actionInfo": {
            "damage": {
              "parts": [],
              "versatile": ""
            },
            "baseAbility": null,
            "toHit": 0,
            "proficient": false,
            "extraAttackBonus": 0
          }
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default"
        }
      },
      "img": "icons/magic/light/beam-rays-magenta-large.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": null,
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null
      },
      "_key": "!actors.items!ziCPnRVNQSmTK81O.XgJqedcAo4ZmqLfb"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You choose nonmagical flame that you can see within range and that fits within a 5-foot &amp;Reference[cube]{cube}. You affect it in one of the following ways:</p>\n<ul>\n<li>You instantaneously expand the flame 5 feet in one direction, provided that wood or other fuel is present in the new location.</li>\n<li>You instantaneously extinguish the flames within the &amp;Reference[cube]{cube}.</li>\n<li>You double or halve the area of bright light and dim light cast by the flame, change its color, or both. The change lasts for 1 hour.</li>\n<li>You cause simple shapes—such as the vague form of a creature, an inanimate object, or a location—to appear within the flames and animate as you like. The shapes last for 1 hour.</li>\n</ul>\n<p>If you cast this spell multiple times, you can have up to three of its non-instantaneous effects active at a time, and you can dismiss such an effect as an action.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Elemental Evil Player's Companion",
          "page": "152",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 5,
          "units": "ft",
          "type": "cube",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 60,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "other",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 0,
        "school": "trs",
        "properties": [
          "somatic"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": false
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Control Flames",
      "flags": {
        "ddbimporter": {
          "id": 137958,
          "definitionId": 2374,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Control Flames",
          "sources": [
            {
              "sourceId": 4,
              "pageNumber": 152,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [],
      "img": "icons/magic/light/hand-sparks-glow-yellow.webp",
      "folder": "Muf6CObMiNg37DS4",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674595,
        "modifiedTime": 1721274674595,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "YXyIB8Z1QoPYNB6b",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.YXyIB8Z1QoPYNB6b"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You create a bonfire on ground that you can see within range. Until the spell ends, the magic bonfire fills a 5-foot &amp;Reference[cube]{cube}. Any creature in the bonfire’s space when you cast the spell must succeed on a &amp;Reference[dex]{Dexterity} saving throw or take 1d8 &amp;Reference[fire]{fire} damage. A creature must also make the saving throw when it moves into the bonfire’s space for the first time on a turn or ends its turn there.</p>\n<p>The bonfire ignites flammable objects in its area that aren’t being worn or carried.</p>\n<p>The spell’s damage increases by 1d8 when you reach 5th level (2d8), 11th level (3d8), and 17th level (4d8).</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Elemental Evil Player's Companion",
          "page": "152",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 5,
          "units": "ft",
          "type": "cube",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 60,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "1d8[fire]",
              "fire"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "dex",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 0,
        "school": "con",
        "properties": [
          "vocal",
          "somatic",
          "concentration"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": false
        },
        "scaling": {
          "mode": "cantrip",
          "formula": "1d8"
        }
      },
      "name": "Create Bonfire",
      "flags": {
        "ddbimporter": {
          "id": 137964,
          "definitionId": 2373,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Create Bonfire",
          "sources": [
            {
              "sourceId": 4,
              "pageNumber": 152,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage",
            "Control"
          ],
          "version": "5.1.27",
          "effect": {
            "dice": "1d8[fire]",
            "damageType": "fire",
            "save": "dex",
            "sequencerFile": "jb2a.flames.01.orange",
            "sequencerScale": 2,
            "isCantrip": true,
            "saveOnEntry": true
          },
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "onUseMacroName": "[preActiveEffects]ItemMacro",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        },
        "dae": {
          "macro": {
            "name": "Create Bonfire",
            "type": "script",
            "scope": "global",
            "command": "if (!game.modules.get(\"ActiveAuras\")?.active) {\n  ui.notifications.error(\"ActiveAuras is not enabled\");\n  return;\n} else if (!game.modules.get(\"ddb-importer\")?.active) {\n  ui.notifications.error(\"ddb-importer is not enabled\");\n  return;\n}\n\nconst lastArg = args[args.length - 1];\n\nasync function rollItemDamage(targetToken, itemUuid, itemLevel) {\n  const item = await fromUuid(itemUuid);\n  const caster = item.parent;\n  const ddbEffectFlags = item.flags.ddbimporter.effect;\n  const isCantrip = ddbEffectFlags.isCantrip;\n  const damageDice = ddbEffectFlags.dice;\n  const damageType = ddbEffectFlags.damageType;\n  const saveAbility = ddbEffectFlags.save;\n  const casterToken = canvas.tokens.placeables.find((t) => t.actor?.uuid === caster.uuid);\n  const scalingDiceArray = item.system.scaling.formula.split(\"d\");\n  const scalingDiceNumber = item.system.scaling.mode === \"none\"\n    ? 0\n    : itemLevel - item.system.level;\n  const upscaledDamage =  isCantrip\n    ? `${DDBImporter?.EffectHelper.getCantripDice(caster)}d${scalingDiceArray[1]}[${damageType}]`\n    : scalingDiceNumber > 0 ? `${scalingDiceNumber}d${scalingDiceArray[1]}[${damageType}] + ${damageDice}` : damageDice;\n\n  const workflowItemData = foundry.utils.duplicate(item);\n  workflowItemData.system.target = { value: 1, units: \"\", type: \"creature\" };\n  workflowItemData.system.save.ability = saveAbility;\n  workflowItemData.system.properties = DDBImporter?.EffectHelper.removeFromProperties(workflowItemData.system.properties, \"concentration\") ?? [];\n  workflowItemData.system.level = itemLevel;\n  workflowItemData.system.duration = { value: null, units: \"inst\" };\n  workflowItemData.system.target = { value: null, width: null, units: \"\", type: \"creature\" };\n  workflowItemData.system.uses = { value: null, max: \"\", per: null, recovery: \"\", autoDestroy: false };\n  workflowItemData.system.consume = { \"type\": \"\", \"target\": null, \"amount\": null };\n\n  foundry.utils.setProperty(workflowItemData, \"flags.itemacro\", {});\n  foundry.utils.setProperty(workflowItemData, \"flags.midi-qol\", {});\n  foundry.utils.setProperty(workflowItemData, \"flags.dae\", {});\n  foundry.utils.setProperty(workflowItemData, \"effects\", []);\n  delete workflowItemData._id;\n\n  const saveOnEntry = ddbEffectFlags.saveOnEntry;\n  // console.warn(\"saveOnEntry\", {ddbEffectFlags, saveOnEntry});\n  if (saveOnEntry) {\n    const entryItem = new CONFIG.Item.documentClass(workflowItemData, { parent: caster });\n    // console.warn(\"Saving item on entry\", {entryItem, targetToken});\n    const [config, options] = DDBImporter.EffectHelper.syntheticItemWorkflowOptions({ targets: [targetToken.document.uuid] });\n    await MidiQOL.completeItemUse(entryItem, config, options);\n  } else {\n    const damageRoll = await new CONFIG.Dice.DamageRoll(upscaledDamage).evaluate({ async: true });\n    await MidiQOL.displayDSNForRoll(damageRoll, \"damageRoll\");\n\n    workflowItemData.name = `${workflowItemData.name}: Turn Entry Damage`;\n\n    await new MidiQOL.DamageOnlyWorkflow(\n      caster,\n      casterToken,\n      damageRoll.total,\n      damageType,\n      [targetToken],\n      damageRoll,\n      {\n        flavor: `(${CONFIG.DND5E.damageTypes[damageType].label})`,\n        itemCardId: \"new\",\n        itemData: workflowItemData,\n        isCritical: false,\n      }\n    );\n  }\n\n}\n\nif (args[0].tag === \"OnUse\" && args[0].macroPass === \"preActiveEffects\") {\n  const safeName = lastArg.itemData.name.replace(/\\s|'|\\.|’/g, \"_\");\n  const dataTracker = {\n    randomId: foundry.utils.randomID(),\n    targetUuids: lastArg.targetUuids,\n    startRound: game.combat.round,\n    startTurn: game.combat.turn,\n    spellLevel: lastArg.spellLevel,\n  };\n\n  const item = await fromUuid(lastArg.itemUuid);\n  await DAE.unsetFlag(item.actor, `${safeName}Tracker`);\n  await DAE.setFlag(item.actor, `${safeName}Tracker`, dataTracker);\n\n  const ddbEffectFlags = lastArg.item.flags.ddbimporter?.effect;\n\n  if (ddbEffectFlags) {\n    const sequencerFile = ddbEffectFlags.sequencerFile;\n    if (sequencerFile) {\n      const scale = ddbEffectFlags.sequencerScale ?? 1;\n      await DDBImporter?.EffectHelper.attachSequencerFileToTemplate(lastArg.templateUuid, sequencerFile, lastArg.itemUuid, scale);\n    }\n    if (ddbEffectFlags.isCantrip) {\n      const cantripDice = DDBImporter?.EffectHelper.getCantripDice(lastArg.actor);\n      args[0].spellLevel = cantripDice;\n      ddbEffectFlags.cantripDice = cantripDice;\n      let newEffects = args[0].item.effects.map((effect) => {\n        effect.changes = effect.changes.map((change) => {\n          change.value = change.value.replace(\"@cantripDice\", cantripDice)\n          return change;\n        });\n        return effect;\n      });\n      args[0].item.effects = foundry.utils.duplicate(newEffects);\n      args[0].itemData.effects = foundry.utils.duplicate(newEffects);\n    }\n    const template = await fromUuid(lastArg.templateUuid);\n    await template.update({\"flags.effect\": ddbEffectFlags});\n  }\n\n  return await game.modules.get(\"ActiveAuras\").api.AAHelpers.applyTemplate(args);\n\n} else if (args[0] == \"on\") {\n  const safeName = (lastArg.efData.name ?? lastArg.efData.label).replace(/\\s|'|\\.|’/g, \"_\");\n  const item = await fromUuid(lastArg.efData.origin);\n  const targetItemTracker = DAE.getFlag(item.parent, `${safeName}Tracker`);\n  const originalTarget = targetItemTracker.targetUuids.includes(lastArg.tokenUuid);\n  const target = canvas.tokens.get(lastArg.tokenId);\n  const targetTokenTrackerFlag = DAE.getFlag(target.actor, `${safeName}Tracker`);\n  const targetedThisCombat = targetTokenTrackerFlag && targetItemTracker.randomId === targetTokenTrackerFlag.randomId;\n  const targetTokenTracker = targetedThisCombat\n    ? targetTokenTrackerFlag\n    : {\n      randomId: targetItemTracker.randomId,\n      round: game.combat.round,\n      turn: game.combat.turn,\n      hasLeft: false,\n    };\n\n  const castTurn = targetItemTracker.startRound === game.combat.round && targetItemTracker.startTurn === game.combat.turn;\n  const isLaterTurn = game.combat.round > targetTokenTracker.round || game.combat.turn > targetTokenTracker.turn;\n\n  // if:\n  // not cast turn, and not part of the original target\n  // AND one of the following\n  // not original template and have not yet had this effect applied this combat OR\n  // has been targeted this combat, left and re-entered effect, and is a later turn\n  if (castTurn && originalTarget) {\n    console.debug(`Token ${target.name} is part of the original target for ${item.name}`);\n  } else if (!targetedThisCombat || (targetedThisCombat && targetTokenTracker.hasLeft && isLaterTurn)){\n    console.debug(`Token ${target.name} is targeted for immediate damage with ${item.name}, using the following factors`, { originalTarget, castTurn, targetedThisCombat, targetTokenTracker, isLaterTurn });\n    targetTokenTracker.hasLeft = false;\n    await rollItemDamage(target, lastArg.efData.origin, targetItemTracker.spellLevel);\n  }\n  await DAE.setFlag(target.actor, `${safeName}Tracker`, targetTokenTracker);\n} else if (args[0] == \"off\") {\n  const safeName = (lastArg.efData.name ?? lastArg.efData.label).replace(/\\s|'|\\.|’/g, \"_\");\n  const target = canvas.tokens.get(lastArg.tokenId);\n  const targetTokenTracker = DAE.getFlag(target.actor, `${safeName}Tracker`);\n\n  if (targetTokenTracker) {\n    targetTokenTracker.hasLeft = true;\n    targetTokenTracker.turn = game.combat.turn;\n    targetTokenTracker.round = game.combat.round;\n    await DAE.setFlag(target.actor, `${safeName}Tracker`, targetTokenTracker);\n  }\n}\n"
          }
        }
      },
      "effects": [
        {
          "icon": "icons/magic/fire/flame-burning-campfire-rocks.webp",
          "changes": [
            {
              "key": "flags.midi-qol.OverTime",
              "mode": 0,
              "value": "turn=end,label=Create Bonfire (End of Turn),damageRoll=(@cantripDice)d8,damageType=fire,saveRemove=false,saveDC=@attributes.spelldc,saveAbility=dex,saveDamage=nodamage,killAnim=true",
              "priority": 20
            },
            {
              "key": "macro.itemMacro",
              "value": "",
              "mode": 0,
              "priority": 20
            }
          ],
          "duration": {
            "seconds": 60,
            "startTime": null,
            "rounds": 10,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": null,
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {},
            "ActiveAuras": {
              "isAura": true,
              "aura": "All",
              "radius": null,
              "alignment": "",
              "type": "",
              "ignoreSelf": false,
              "height": false,
              "hidden": false,
              "onlyOnce": false,
              "save": "dex",
              "savedc": null,
              "displayTemp": true
            }
          },
          "name": "Create Bonfire",
          "statuses": [],
          "_id": "ob6Hr9ttDyyw5X9V",
          "description": "",
          "origin": null,
          "_key": "!actors.items.effects!ziCPnRVNQSmTK81O.cgCPmQLVg39LCMkE.ob6Hr9ttDyyw5X9V"
        }
      ],
      "img": "icons/magic/fire/flame-burning-campfire-rocks.webp",
      "folder": "e8UeRF8mmfaJRx4e",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674586,
        "modifiedTime": 1721274674586,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "cgCPmQLVg39LCMkE",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.cgCPmQLVg39LCMkE"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You hurl a mote of &amp;Reference[fire]{fire} at a creature or object within range. Make a ranged spell attack against the target. On a hit, the target takes 1d10 &amp;Reference[fire]{fire} damage. A flammable object hit by this spell ignites if it isn't being worn or carried.</p>\n<p>This spell's damage increases by 1d10 when you reach 5th level (2d10), 11th level (3d10), and 17th level (4d10).</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "242",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 1,
          "units": "",
          "type": "creature",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 120,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "rsak",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "1d10[fire]",
              "fire"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 0,
        "school": "evo",
        "properties": [
          "vocal",
          "somatic"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": false
        },
        "scaling": {
          "mode": "cantrip",
          "formula": "1d10"
        }
      },
      "name": "Fire Bolt",
      "flags": {
        "ddbimporter": {
          "id": 136818,
          "definitionId": 2103,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Fire Bolt",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 242,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [],
      "img": "icons/magic/light/beam-rays-orange.webp",
      "folder": "rkqMMY58A8Xdl9Mg",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274675276,
        "modifiedTime": 1721274675276,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "13fAiBmePM8St9FY",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.13fAiBmePM8St9FY"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You touch one object that is no larger than 10 feet in any dimension. Until the spell ends, the object sheds bright light in a 20-foot radius and dim light for an additional 20 feet. The light can be colored as you like. Completely covering the object with something opaque blocks the light. The spell ends if you cast it again or dismiss it as an action.</p>\n<p>If you target an object held or worn by a hostile creature, that creature must succeed on a &amp;Reference[dex]{Dexterity} saving throw to avoid the spell.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "255",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 1,
          "width": null,
          "units": "",
          "type": "object",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "touch"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "dex",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 0,
        "school": "evo",
        "properties": [
          "vocal",
          "material"
        ],
        "materials": {
          "value": "a firefly or phosphorescent moss",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": false
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Light",
      "flags": {
        "ddbimporter": {
          "id": 138400,
          "definitionId": 2166,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Light",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 255,
              "sourceType": 1
            }
          ],
          "tags": [
            "Creation",
            "Utility"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true,
          "autoFailFriendly": true
        }
      },
      "effects": [
        {
          "icon": "icons/magic/light/explosion-star-small-blue-yellow.webp",
          "changes": [
            {
              "key": "ATL.light.dim",
              "mode": 5,
              "value": "40",
              "priority": 20
            },
            {
              "key": "ATL.light.bright",
              "mode": 5,
              "value": "20",
              "priority": 20
            },
            {
              "key": "ATL.light.color",
              "mode": 5,
              "value": "#ffffff",
              "priority": 20
            },
            {
              "key": "ATL.light.alpha",
              "mode": 5,
              "value": "0.25",
              "priority": 20
            },
            {
              "key": "ATL.light.animation",
              "mode": 5,
              "value": "{\"type\": \"pulse\", \"speed\": 3,\"intensity\": 1}",
              "priority": 20
            }
          ],
          "duration": {
            "seconds": 3600,
            "startTime": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": null,
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Light",
          "statuses": [],
          "_id": "gtbIkAWjh9Dtjq4C",
          "description": "",
          "origin": null,
          "_key": "!actors.items.effects!ziCPnRVNQSmTK81O.A0zLKD6umI0jLKml.gtbIkAWjh9Dtjq4C"
        }
      ],
      "img": "icons/magic/light/explosion-star-small-blue-yellow.webp",
      "folder": "rkqMMY58A8Xdl9Mg",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274673866,
        "modifiedTime": 1721274673866,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "A0zLKD6umI0jLKml",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.A0zLKD6umI0jLKml"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You create a sound or an image of an object within range that lasts for the duration. The &amp;Reference[ill]{illusion} also ends if you dismiss it as an action or cast this spell again.</p>\n<p>If you create a sound, its volume can range from a whisper to a scream. It can be your voice, someone else's voice, a lion's roar, a beating of drums, or any other sound you choose. The sound continues unabated throughout the duration, or you can make discrete sounds at different times before the spell ends.</p>\n<p>If you create an image of an object--such as a chair, muddy footprints, or a small chest--it must be no larger than a 5-foot &amp;Reference[cube]{cube}. The image can't create sound, light, smell, or any other sensory effect. Physical interaction with the image reveals it to be an &amp;Reference[ill]{illusion}, because things can pass through it.</p>\n<p>If a creature uses its action to examine the sound or image, the creature can determine that it is an &amp;Reference[ill]{illusion} with a successful &amp;Reference[int]{Intelligence} (&amp;Reference[inv]{Investigation}) check against your spell save DC. If a creature discerns the &amp;Reference[ill]{illusion} for what it is, the &amp;Reference[ill]{illusion} becomes faint to the creature.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "260",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 5,
          "units": "ft",
          "type": "cube",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 30,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "other",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 0,
        "school": "ill",
        "properties": [
          "somatic",
          "material"
        ],
        "materials": {
          "value": "a bit of fleece",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": false
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Minor Illusion",
      "flags": {
        "ddbimporter": {
          "id": 138487,
          "definitionId": 2191,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Minor Illusion",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 260,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [],
      "img": "icons/magic/control/hypnosis-mesmerism-eye.webp",
      "folder": "CckA9KDh0fOPelFO",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274675296,
        "modifiedTime": 1721274675296,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "4AhvDJ0ICAPBg0Xn",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.4AhvDJ0ICAPBg0Xn"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>As you hold your hands with thumbs touching and fingers spread, a thin sheet of flames shoots forth from your outstretched fingertips. Each creature in a 15-foot &amp;Reference[cone]{cone} must make a &amp;Reference[dex]{Dexterity} saving throw. A creature takes 3d6 &amp;Reference[fire]{fire} damage on a failed save, or half as much damage on a successful one.</p>\n<p>The &amp;Reference[fire]{fire} ignites any flammable objects in the area that aren't being worn or carried.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 2nd level or higher, the damage increases by 1d6 for each slot level above 1st.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "220",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 15,
          "width": null,
          "units": "ft",
          "type": "cone",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "self"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "3d6[fire]",
              "fire"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "dex",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 1,
        "school": "evo",
        "properties": [
          "vocal",
          "somatic"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "level",
          "formula": "1d6"
        }
      },
      "name": "Burning Hands",
      "flags": {
        "ddbimporter": {
          "id": 136168,
          "definitionId": 2021,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Burning Hands",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 220,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage"
          ],
          "version": "5.1.27",
          "effectsApplied": true,
          "chrisEffectsApplied": true,
          "chrisPreEffectName": "Burning Hands"
        },
        "templatemacro": {},
        "custom-character-sheet-sections": {
          "sectionName": ""
        },
        "rest-recovery": {
          "data": {
            "recovery": {
              "enabled": false
            }
          }
        },
        "midi-qol": {
          "effectActivation": false,
          "onUseMacroName": "[postActiveEffects]function.chrisPremades.macros.burningHands",
          "onUseMacroParts": {
            "items": {
              "0": {
                "macroName": "function.chrisPremades.macros.burningHands",
                "option": "postActiveEffects"
              }
            }
          },
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "nodam": false,
          "fulldam": false,
          "halfdam": false,
          "autoFailFriendly": false,
          "autoSaveFriendly": false,
          "rollOther": false,
          "critOther": false,
          "offHandWeapon": false,
          "magicdam": false,
          "magiceffect": false,
          "concentration": false,
          "toggleEffect": false,
          "ignoreTotalCover": false,
          "confirmTargets": "default"
        },
        "autoanimations": {
          "id": "5f4037e1-240e-463b-a28f-9d90bfa72642",
          "label": "Burning Hands",
          "levels3d": {
            "type": "explosion",
            "data": {
              "color01": "#FFFFFF",
              "color02": "#FFFFFF",
              "spritePath": "modules/levels-3d-preview/assets/particles/dust.png"
            },
            "sound": {
              "enable": false
            },
            "secondary": {
              "enable": false,
              "data": {
                "color01": "#FFFFFF",
                "color02": "#FFFFFF",
                "spritePath": "modules/levels-3d-preview/assets/particles/dust.png"
              }
            }
          },
          "macro": {
            "enable": false
          },
          "meleeSwitch": {
            "video": {
              "dbSection": "range",
              "menuType": "weapon",
              "animation": "arrow",
              "variant": "regular",
              "color": "regular"
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "detect": "automatic",
              "range": 2,
              "returning": false,
              "switchType": "on"
            }
          },
          "menu": "melee",
          "primary": {
            "video": {
              "dbSection": "melee",
              "menuType": "weapon",
              "animation": "club",
              "variant": "01",
              "color": "white",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "isWait": false,
              "opacity": 1,
              "playbackRate": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1,
              "tint": false,
              "tintColor": "#FFFFFF",
              "zIndex": 1
            }
          },
          "secondary": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": true,
              "isWait": false,
              "opacity": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1.5,
              "tint": false,
              "tintColor": "#FFFFFF",
              "zIndex": 1
            }
          },
          "soundOnly": {
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            }
          },
          "source": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": false,
              "isWait": true,
              "opacity": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1,
              "tint": false,
              "tintColor": "#FFFFFF",
              "zIndex": 1
            }
          },
          "target": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": false,
              "opacity": 1,
              "persistent": false,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1,
              "tint": false,
              "tintColor": "#FFFFFF",
              "unbindAlpha": false,
              "unbindVisibility": false,
              "zIndex": 1
            }
          },
          "isEnabled": false,
          "isCustomized": false,
          "fromAmmo": false,
          "version": 5
        },
        "chris-premades": {
          "configuration": {
            "animation": "default"
          },
          "info": {
            "name": "Burning Hands",
            "version": "0.7.45",
            "hasAnimation": true
          }
        },
        "dnd5e": {}
      },
      "effects": [],
      "img": "icons/magic/earth/volcano-explosion-lava-yellow.webp",
      "folder": "rkqMMY58A8Xdl9Mg",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674686,
        "modifiedTime": 1721274674686,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "8owHAgLLtcCTXagX",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.8owHAgLLtcCTXagX"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>This spell allows you to move at an incredible pace. When you cast this spell, and then as a bonus action on each of your turns until the spell ends, you can take the Dash action.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "238",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "bonus",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "10",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "units": "",
          "type": "self",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "self"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "other",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 1,
        "school": "trs",
        "properties": [
          "vocal",
          "somatic",
          "concentration"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Expeditious Retreat",
      "flags": {
        "ddbimporter": {
          "id": 136742,
          "definitionId": 2088,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Expeditious Retreat",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 238,
              "sourceType": 1
            }
          ],
          "tags": [
            "Movement"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [],
      "img": "icons/skills/movement/feet-winged-boots-glowing-yellow.webp",
      "folder": "Muf6CObMiNg37DS4",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674825,
        "modifiedTime": 1721274674825,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "Xdm5Wew7wU2r3MIP",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.Xdm5Wew7wU2r3MIP"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You touch a willing creature who isn't wearing armor, and a protective magical &amp;Reference[force]{force} surrounds it until the spell ends. The target's base AC becomes 13 + its &amp;Reference[dex]{Dexterity} modifier. The spell ends if the target dons armor or if you dismiss the spell as an action.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "256",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "8",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 1,
          "units": "1",
          "type": "creature",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "touch"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "util",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 1,
        "school": "abj",
        "properties": [
          "vocal",
          "somatic",
          "material"
        ],
        "materials": {
          "value": "a piece of cured leather",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Mage Armor",
      "flags": {
        "ddbimporter": {
          "id": 138431,
          "definitionId": 2172,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Mage Armor",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 256,
              "sourceType": 1
            }
          ],
          "tags": [
            "Buff",
            "Warding"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [
        {
          "icon": "icons/magic/defensive/shield-barrier-glowing-triangle-blue.webp",
          "changes": [
            {
              "key": "system.attributes.ac.calc",
              "mode": 5,
              "value": "mage",
              "priority": 5
            }
          ],
          "duration": {
            "seconds": 28800,
            "startTime": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": null,
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Mage Armor",
          "statuses": [],
          "_id": "GKWzm5lv6xh23n8o",
          "description": "",
          "origin": null,
          "_key": "!actors.items.effects!ziCPnRVNQSmTK81O.yB2TEewYcivdceNa.GKWzm5lv6xh23n8o"
        }
      ],
      "img": "icons/magic/defensive/shield-barrier-glowing-triangle-blue.webp",
      "folder": "QG5P4iTezYNjNLlu",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674976,
        "modifiedTime": 1721274674976,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "yB2TEewYcivdceNa",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.yB2TEewYcivdceNa"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>Your body becomes blurred, shifting and wavering to all who can see you. For the duration, any creature has disadvantage on attack rolls against you. An attacker is immune to this effect if it doesn't rely on sight, as with &amp;Reference[blindsight]{blindsight}, or can see through illusions, as with &amp;Reference[truesight]{truesight}.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "219",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "units": "",
          "type": "self",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "self"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "other",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 2,
        "school": "ill",
        "properties": [
          "vocal",
          "concentration"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Blur",
      "flags": {
        "ddbimporter": {
          "id": 136162,
          "definitionId": 2020,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Blur",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 219,
              "sourceType": 1
            }
          ],
          "tags": [
            "Deception",
            "Warding"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [
        {
          "icon": "icons/magic/time/hourglass-yellow-green.webp",
          "changes": [
            {
              "key": "flags.midi-qol.grants.disadvantage.attack.all",
              "mode": 0,
              "value": "1",
              "priority": 20
            },
            {
              "key": "macro.tokenMagic",
              "mode": 0,
              "value": "blur",
              "priority": 20
            }
          ],
          "duration": {
            "seconds": null,
            "startTime": null,
            "rounds": 10,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": null,
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Blur",
          "statuses": [],
          "_id": "zNkVqATUadff50gK",
          "description": "",
          "origin": null,
          "_key": "!actors.items.effects!ziCPnRVNQSmTK81O.cOmhhBYBVyJUoTVp.zNkVqATUadff50gK"
        }
      ],
      "img": "icons/magic/time/hourglass-yellow-green.webp",
      "folder": "CckA9KDh0fOPelFO",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674676,
        "modifiedTime": 1721274674676,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "cOmhhBYBVyJUoTVp",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.cOmhhBYBVyJUoTVp"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You create three rays of &amp;Reference[fire]{fire} and hurl them at targets within range. You can hurl them at one target or several.</p>\n<p>Make a ranged spell attack for each ray. On a hit, the target takes 2d6 &amp;Reference[fire]{fire} damage.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 3rd level or higher, you create one additional ray for each slot level above 2nd.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "273",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "creature",
          "prompt": true
        },
        "range": {
          "value": 120,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "util",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "[2d6 - fire] 3 Rays",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 2,
        "school": "evo",
        "properties": [
          "vocal",
          "somatic"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Scorching Ray",
      "flags": {
        "ddbimporter": {
          "id": 138665,
          "definitionId": 2238,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Scorching Ray",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 273,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage"
          ],
          "version": "5.1.27",
          "effectsApplied": true,
          "chrisEffectsApplied": true,
          "chrisPreEffectName": "Scorching Ray"
        },
        "custom-character-sheet-sections": {
          "sectionName": ""
        },
        "rest-recovery": {
          "data": {
            "recovery": {
              "enabled": false
            }
          }
        },
        "midi-qol": {
          "fumbleThreshold": null,
          "effectActivation": false,
          "onUseMacroName": "[postActiveEffects]function.chrisPremades.macros.scorchingRay",
          "onUseMacroParts": {
            "items": {
              "0": {
                "macroName": "function.chrisPremades.macros.scorchingRay",
                "option": "postActiveEffects"
              }
            }
          },
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "nodam": false,
          "fulldam": false,
          "halfdam": false,
          "autoFailFriendly": false,
          "autoSaveFriendly": false,
          "rollOther": false,
          "critOther": false,
          "offHandWeapon": false,
          "magicdam": false,
          "magiceffect": false,
          "concentration": false,
          "toggleEffect": false,
          "ignoreTotalCover": false,
          "confirmTargets": "default"
        },
        "autoanimations": {
          "id": "4b4115f2-f149-43c2-89aa-5f156ecfe83b",
          "label": "Scorching Ray",
          "levels3d": {
            "type": "explosion",
            "data": {
              "color01": "#FFFFFF",
              "color02": "#FFFFFF",
              "spritePath": "modules/levels-3d-preview/assets/particles/dust.png"
            },
            "sound": {
              "enable": false
            },
            "secondary": {
              "enable": false,
              "data": {
                "color01": "#FFFFFF",
                "color02": "#FFFFFF",
                "spritePath": "modules/levels-3d-preview/assets/particles/dust.png"
              }
            }
          },
          "macro": {
            "enable": false
          },
          "meleeSwitch": {
            "video": {
              "dbSection": "range",
              "menuType": "weapon",
              "animation": "arrow",
              "variant": "regular",
              "color": "regular"
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "detect": "automatic",
              "range": 2,
              "returning": false,
              "switchType": "on"
            }
          },
          "menu": "melee",
          "primary": {
            "video": {
              "dbSection": "melee",
              "menuType": "weapon",
              "animation": "club",
              "variant": "01",
              "color": "white",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "isWait": false,
              "opacity": 1,
              "playbackRate": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1,
              "tint": false,
              "tintColor": "#FFFFFF",
              "zIndex": 1
            }
          },
          "secondary": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": true,
              "isWait": false,
              "opacity": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1.5,
              "tint": false,
              "tintColor": "#FFFFFF",
              "zIndex": 1
            }
          },
          "soundOnly": {
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            }
          },
          "source": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": false,
              "isWait": true,
              "opacity": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1,
              "tint": false,
              "tintColor": "#FFFFFF",
              "zIndex": 1
            }
          },
          "target": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "contrast": 0,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": false,
              "opacity": 1,
              "persistent": false,
              "repeat": 1,
              "repeatDelay": 250,
              "saturate": 0,
              "size": 1,
              "tint": false,
              "tintColor": "#FFFFFF",
              "unbindAlpha": false,
              "unbindVisibility": false,
              "zIndex": 1
            }
          },
          "isEnabled": false,
          "isCustomized": false,
          "fromAmmo": false,
          "version": 5
        },
        "chris-premades": {
          "info": {
            "name": "Scorching Ray",
            "version": "0.7.45",
            "hasAnimation": true
          }
        },
        "dnd5e": {}
      },
      "effects": [],
      "img": "icons/magic/light/beam-rays-red.webp",
      "folder": "rkqMMY58A8Xdl9Mg",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274675056,
        "modifiedTime": 1721274675056,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "Ps0yBCvP79zmtax4",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.Ps0yBCvP79zmtax4"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>A bright streak flashes from your pointing finger to a point you choose within range and then blossoms with a low roar into an explosion of flame. Each creature in a 20-foot-radius &amp;Reference[sphere]{sphere} centered on that point must make a &amp;Reference[dex]{Dexterity} saving throw. A target takes 8d6 &amp;Reference[fire]{fire} damage on a failed save, or half as much damage on a successful one.</p>\n<p>The &amp;Reference[fire]{fire} spreads around corners. It ignites flammable objects in the area that aren't being worn or carried.</p>\n<p><em><strong>At Higher Levels.</strong></em> When you cast this spell using a spell slot of 4th level or higher, the damage increases by 1d6 for each slot level above 3rd.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "241",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 20,
          "units": "ft",
          "type": "sphere",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 150,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "8d6[fire]",
              "fire"
            ]
          ],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "dex",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 3,
        "school": "evo",
        "properties": [
          "vocal",
          "somatic",
          "material"
        ],
        "materials": {
          "value": "a tiny ball of bat guano and sulfur",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "prepared",
          "prepared": true
        },
        "scaling": {
          "mode": "level",
          "formula": "1d6"
        }
      },
      "name": "Fireball",
      "flags": {
        "ddbimporter": {
          "id": 136815,
          "definitionId": 2102,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Fireball",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 241,
              "sourceType": 1
            }
          ],
          "tags": [
            "Damage"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [],
      "img": "icons/magic/fire/projectile-fireball-smoke-large-orange.webp",
      "folder": "rkqMMY58A8Xdl9Mg",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "11.315",
        "createdTime": 1721274674865,
        "modifiedTime": 1721274674865,
        "lastModifiedBy": "6yhz13iFYYklKtgA"
      },
      "sort": 0,
      "_id": "L6jXcPOuaZNAP9SG",
      "_key": "!actors.items!ziCPnRVNQSmTK81O.L6jXcPOuaZNAP9SG"
    }
  ],
  "effects": [],
  "folder": "12ExxahlaP4ZrRpn",
  "sort": 0,
  "ownership": {
    "default": 0,
    "6yhz13iFYYklKtgA": 3
  },
  "flags": {
    "dnd5e": {},
    "monsterMunch": {
      "url": "https://www.dndbeyond.com/monsters/17437-eternal-flame-priest",
      "img": "https://www.dndbeyond.com/avatars/25141/968/637856468432697358.png",
      "tokenImg": "https://www.dndbeyond.com/avatars/25141/966/637856468429437407.jpeg",
      "isStockImg": false,
      "spellList": {
        "class": [
          "burning hands",
          "expeditious retreat",
          "mage armor",
          "blur",
          "scorching ray",
          "fireball"
        ],
        "pact": [],
        "atwill": [
          "control flames",
          "create bonfire",
          "fire bolt",
          "light",
          "minor illusion"
        ],
        "innate": [],
        "edgeCases": [],
        "material": true,
        "innateMatch": false
      }
    },
    "ddbimporter": {
      "id": 17437,
      "entityTypeId": 779871897,
      "creatureGroupId": null,
      "creatureFlags": [],
      "version": "5.1.27",
      "isLegacy": false,
      "flatAC": false
    }
  },
  "_stats": {
    "systemId": "dnd5e",
    "systemVersion": "3.1.2",
    "coreVersion": "11.315",
    "createdTime": 1721275263833,
    "modifiedTime": 1721275263833,
    "lastModifiedBy": "6yhz13iFYYklKtgA"
  },
  "_key": "!actors!ziCPnRVNQSmTK81O"
}
