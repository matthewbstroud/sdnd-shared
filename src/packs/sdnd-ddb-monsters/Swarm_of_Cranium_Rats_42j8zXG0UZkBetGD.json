{
  "name": "Swarm of Cranium Rats",
  "type": "npc",
  "_id": "42j8zXG0UZkBetGD",
  "img": "https://www.dndbeyond.com/avatars/25746/697/637880558073379029.png",
  "system": {
    "currency": {
      "pp": 0,
      "gp": 0,
      "ep": 0,
      "sp": 0,
      "cp": 0
    },
    "abilities": {
      "str": {
        "value": 9,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "dex": {
        "value": 14,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "con": {
        "value": 10,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "int": {
        "value": 15,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "wis": {
        "value": 11,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      },
      "cha": {
        "value": 14,
        "proficient": 0,
        "max": null,
        "bonuses": {
          "check": "",
          "save": ""
        }
      }
    },
    "bonuses": {
      "mwak": {
        "attack": "",
        "damage": ""
      },
      "rwak": {
        "attack": "",
        "damage": ""
      },
      "msak": {
        "attack": "",
        "damage": ""
      },
      "rsak": {
        "attack": "",
        "damage": ""
      },
      "abilities": {
        "check": "",
        "save": "",
        "skill": ""
      },
      "spell": {
        "dc": ""
      }
    },
    "skills": {
      "acr": {
        "ability": "dex",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ani": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "arc": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ath": {
        "ability": "str",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "dec": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "his": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ins": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "itm": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "inv": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "med": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "nat": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "prc": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "prf": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "per": {
        "ability": "cha",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "rel": {
        "ability": "int",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "slt": {
        "ability": "dex",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "ste": {
        "ability": "dex",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      },
      "sur": {
        "ability": "wis",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "value": 0,
        "bonuses": {
          "check": "",
          "passive": ""
        }
      }
    },
    "tools": {},
    "spells": {
      "spell1": {
        "value": 0,
        "override": null
      },
      "spell2": {
        "value": 0,
        "override": null
      },
      "spell3": {
        "value": 0,
        "override": null
      },
      "spell4": {
        "value": 0,
        "override": null
      },
      "spell5": {
        "value": 0,
        "override": null
      },
      "spell6": {
        "value": 0,
        "override": null
      },
      "spell7": {
        "value": 0,
        "override": null
      },
      "spell8": {
        "value": 0,
        "override": null
      },
      "spell9": {
        "value": 0,
        "override": null
      },
      "pact": {
        "value": 0,
        "override": null
      }
    },
    "attributes": {
      "init": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "bonus": ""
      },
      "movement": {
        "burrow": null,
        "climb": null,
        "fly": null,
        "swim": null,
        "walk": 30,
        "units": "ft",
        "hover": false
      },
      "attunement": {
        "max": 3
      },
      "senses": {
        "darkvision": 30,
        "blindsight": 0,
        "tremorsense": 0,
        "truesight": 0,
        "units": "ft",
        "special": ""
      },
      "spellcasting": "int",
      "exhaustion": 0,
      "concentration": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "bonuses": {
          "save": ""
        },
        "limit": 1
      },
      "ac": {
        "flat": 12,
        "calc": "natural",
        "formula": ""
      },
      "hp": {
        "value": 76,
        "max": 76,
        "temp": 0,
        "tempmax": 0,
        "formula": "17d8"
      },
      "death": {
        "ability": "",
        "roll": {
          "min": null,
          "max": null,
          "mode": 0
        },
        "success": 0,
        "failure": 0
      }
    },
    "details": {
      "biography": {
        "value": "<p>Mind flayers create cranium rat;cranium rats by bombarding rat;rats with psionic energy. Cranium rats are somewhat smarter than ordinary rats and behave as such. If enough cranium rats come together to form a swarm, they merge their minds into a single intelligence with the accumulated memories of all the swarm’s constituents. The rats become smarter as a result, and retain their heightened intelligence for as long as the swarm persists. The swarm also awakens latent psionic abilities implanted within each cranium rat by its mind flayer creators, bestowing upon the swarm psionic powers.</p>\n<p>A single cranium rat uses its natural telepathy to communicate hunger, fear, and other base emotions. A swarm of cranium rats communicating telepathically “speaks” as one creature, often referring to itself using the collective pronouns “we” and “us.”</p>\n<p>Some mind flayer colonies use cranium rats as spies. The rats invade communities and act as eyes and ears for the colony’s elder brain, transmitting their thoughts when they swarm and are within range of the elder brain’s telepathy.</p>",
        "public": ""
      },
      "alignment": "Typically Lawful Evil",
      "race": null,
      "type": {
        "swarm": "tiny",
        "value": "aberration",
        "subtype": ""
      },
      "environment": "Underdark, Urban",
      "cr": 5,
      "spellLevel": 0,
      "source": {
        "book": "Mordenkainen Presents: Monsters of the Multiverse",
        "page": "83",
        "custom": "",
        "license": ""
      }
    },
    "resources": {
      "legact": {
        "value": 0,
        "max": 0
      },
      "legres": {
        "value": 0,
        "max": 0
      },
      "lair": {
        "value": false,
        "initiative": null
      }
    },
    "traits": {
      "size": "med",
      "di": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "dr": {
        "value": [
          "bludgeoning",
          "piercing",
          "slashing"
        ],
        "bypasses": [],
        "custom": ""
      },
      "dv": {
        "value": [],
        "bypasses": [],
        "custom": ""
      },
      "dm": {
        "amount": {},
        "bypasses": []
      },
      "ci": {
        "value": [
          "charmed",
          "frightened",
          "grappled",
          "paralyzed",
          "petrified",
          "prone",
          "restrained",
          "stunned"
        ],
        "custom": ""
      },
      "languages": {
        "value": [],
        "custom": "Telepathy 30 ft."
      }
    }
  },
  "prototypeToken": {
    "name": "Swarm of Cranium Rats",
    "displayName": 20,
    "actorLink": false,
    "appendNumber": false,
    "prependAdjective": false,
    "texture": {
      "src": "ddb-images/other/npc-token-Swarm-of-Cranium-Rats.jpeg",
      "scaleX": 1,
      "scaleY": 1,
      "offsetX": 0,
      "offsetY": 0,
      "rotation": 0,
      "anchorX": 0.5,
      "anchorY": 0.5,
      "fit": "contain",
      "tint": "#ffffff",
      "alphaThreshold": 0.75
    },
    "width": 1,
    "height": 1,
    "lockRotation": false,
    "rotation": 0,
    "alpha": 1,
    "disposition": -1,
    "displayBars": 20,
    "bar1": {
      "attribute": "attributes.hp"
    },
    "bar2": {
      "attribute": null
    },
    "light": {
      "alpha": 0.5,
      "angle": 360,
      "bright": 0,
      "coloration": 1,
      "dim": 0,
      "attenuation": 0.5,
      "luminosity": 0.5,
      "saturation": 0,
      "contrast": 0,
      "shadows": 0,
      "animation": {
        "type": null,
        "speed": 5,
        "intensity": 5,
        "reverse": false
      },
      "darkness": {
        "min": 0,
        "max": 1
      },
      "negative": false,
      "priority": 0,
      "color": null
    },
    "sight": {
      "enabled": false,
      "range": 30,
      "angle": 360,
      "visionMode": "darkvision",
      "color": null,
      "attenuation": 0,
      "brightness": 0,
      "saturation": -1,
      "contrast": 0
    },
    "detectionModes": [],
    "flags": {
      "monks-tokenbar": {
        "include": "default"
      },
      "tagger": {
        "tags": [
          "dndbeyond",
          "ddb-importer",
          "aberration"
        ]
      }
    },
    "randomImg": false,
    "hexagonalShape": 0,
    "occludable": {
      "radius": 0
    },
    "ring": {
      "enabled": false,
      "colors": {
        "ring": null,
        "background": null
      },
      "effects": 1,
      "subject": {
        "scale": 1,
        "texture": null
      }
    }
  },
  "items": [
    {
      "_id": "jI7UM3zLtTPJ5J1F",
      "name": "Bites",
      "type": "weapon",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p><em><strong></strong> Melee Weapon Attack:</em> +5 to hit, reach 0 ft., one target in the swarm’s space. <em>Hit:</em> [[/damage 4d6 type=piercing average=true]] damage, or [[/damage 2d6 type=piercing average=true]] damage if the swarm has half of its hit points or fewer, plus [[/damage 5d8 type=psychic average=true]] damage.</p>\n</section>\nThe [[lookup @name]] attacks with its [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Mordenkainen Presents: Monsters of the Multiverse",
          "page": "83",
          "custom": "",
          "license": ""
        },
        "identified": true,
        "unidentified": {
          "description": ""
        },
        "container": null,
        "quantity": 1,
        "weight": 0,
        "price": {
          "value": 0,
          "denomination": "gp"
        },
        "rarity": "",
        "attunement": 0,
        "equipped": true,
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": 0,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": "dex",
        "actionType": "mwak",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [
            [
              "4d6[piercing]",
              "piercing"
            ]
          ],
          "versatile": ""
        },
        "formula": "5d8[psychic]",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "flat"
        },
        "summons": null,
        "armor": {
          "value": null
        },
        "hp": {
          "value": null,
          "max": null,
          "dt": null,
          "conditions": ""
        },
        "type": {
          "value": "natural",
          "baseItem": ""
        },
        "magicalBonus": null,
        "properties": [],
        "proficient": 1
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {},
          "effectsApplied": true,
          "chrisEffectsApplied": true,
          "chrisPreEffectName": "Bites"
        },
        "monsterMunch": {
          "titleHTML": "<strong>Bites.</strong>",
          "fullName": "Bites.",
          "actionCopy": false,
          "type": "action",
          "actionInfo": {
            "damage": {
              "parts": [
                [
                  "4d6[piercing]",
                  "piercing"
                ],
                [
                  "5d8[psychic]",
                  "psychic"
                ]
              ],
              "versatile": "2d6[piercing] + 5d8[psychic]"
            },
            "baseAbility": "dex",
            "toHit": 5,
            "proficient": true,
            "extraAttackBonus": 0
          }
        },
        "custom-character-sheet-sections": {
          "sectionName": ""
        },
        "rest-recovery": {
          "data": {
            "recovery": {
              "enabled": false
            }
          }
        },
        "midi-qol": {
          "fumbleThreshold": null,
          "effectActivation": false,
          "onUseMacroName": "[postDamageRoll]function.chrisPremades.macros.monster.generic.swarmDamage"
        },
        "midiProperties": {
          "nodam": false,
          "fulldam": false,
          "halfdam": false,
          "autoFailFriendly": false,
          "autoSaveFriendly": false,
          "rollOther": false,
          "critOther": false,
          "offHandWeapon": false,
          "magicdam": false,
          "magiceffect": false,
          "concentration": false,
          "toggleEffect": false,
          "ignoreTotalCover": false
        }
      },
      "img": "icons/commodities/bones/teeth-sharp-white.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!42j8zXG0UZkBetGD.jI7UM3zLtTPJ5J1F"
    },
    {
      "_id": "X2NjP0gXadU0dwlX",
      "name": "Spellcasting (Psionics)",
      "type": "feat",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p> As long as it has more than half of its hit points remaining, the swarm casts one of the following spells, requiring no spell components and using &amp;Reference[int]{Intelligence} as the spellcasting ability (spell save DC 13):</p><p>At will: command, comprehend languages, detect thoughts</p><p>1/day each: confusion, dominate monster</p>\n</section>\nThe [[lookup @name]] uses [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Mordenkainen Presents: Monsters of the Multiverse",
          "page": "83",
          "custom": "",
          "license": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": ""
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": null,
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "dc": null,
          "ability": "",
          "scaling": "flat"
        },
        "summons": null,
        "type": {
          "value": "monster",
          "subtype": ""
        },
        "properties": [],
        "requirements": "",
        "recharge": {
          "value": null,
          "charged": false
        }
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<strong>Spellcasting (Psionics).</strong>",
          "fullName": "Spellcasting (Psionics).",
          "actionCopy": false,
          "type": "action",
          "actionInfo": {
            "damage": {
              "parts": [],
              "versatile": ""
            },
            "baseAbility": null,
            "toHit": 0,
            "proficient": false,
            "extraAttackBonus": 0
          }
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default"
        }
      },
      "img": "icons/magic/light/beam-rays-magenta-large.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!42j8zXG0UZkBetGD.X2NjP0gXadU0dwlX"
    },
    {
      "_id": "ffcPlPSNaM0Vuev8",
      "name": "Swarm",
      "type": "feat",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p><em><strong>Swarm.</strong></em> The swarm can occupy another creature’s space and vice versa, and the swarm can move through any opening large enough for a Tiny rat. The swarm can’t regain hit points or gain temporary hit points.</p>\n</section>\nThe [[lookup @name]] uses [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Mordenkainen Presents: Monsters of the Multiverse",
          "page": "83",
          "custom": "",
          "license": ""
        },
        "activation": {
          "cost": null,
          "type": "",
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": ""
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": ""
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": null,
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "dc": null,
          "ability": "",
          "scaling": "flat"
        },
        "summons": null,
        "type": {
          "value": "monster",
          "subtype": ""
        },
        "properties": [],
        "requirements": "",
        "recharge": {
          "value": null,
          "charged": false
        }
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<em><strong>Swarm.</strong></em>",
          "fullName": "Swarm.",
          "actionCopy": false,
          "type": "special",
          "actionInfo": {
            "damage": {
              "parts": [],
              "versatile": ""
            },
            "baseAbility": null,
            "toHit": 0,
            "proficient": false,
            "extraAttackBonus": 0
          }
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default"
        }
      },
      "img": "icons/magic/air/wind-swirl-pink-purple.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!42j8zXG0UZkBetGD.ffcPlPSNaM0Vuev8"
    },
    {
      "_id": "GLIO4XQQxpel3iaf",
      "name": "Telepathic Shroud",
      "type": "feat",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p><em><strong>Telepathic Shroud.</strong></em> The swarm is immune to any effect that would sense its emotions or read its thoughts, as well as to all &amp;Reference[div]{divination} spells.</p>\n</section>\nThe [[lookup @name]] uses [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Mordenkainen Presents: Monsters of the Multiverse",
          "page": "83",
          "custom": "",
          "license": ""
        },
        "activation": {
          "cost": null,
          "type": "",
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": ""
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": ""
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": null,
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "dc": null,
          "ability": "",
          "scaling": "flat"
        },
        "summons": null,
        "type": {
          "value": "monster",
          "subtype": ""
        },
        "properties": [],
        "requirements": "",
        "recharge": {
          "value": null,
          "charged": false
        }
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<em><strong>Telepathic Shroud.</strong></em>",
          "fullName": "Telepathic Shroud.",
          "actionCopy": false,
          "type": "special",
          "actionInfo": {
            "damage": {
              "parts": [],
              "versatile": ""
            },
            "baseAbility": null,
            "toHit": 0,
            "proficient": false,
            "extraAttackBonus": 0
          }
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default"
        }
      },
      "img": "icons/skills/toxins/poison-bottle-corked-fire-green.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!42j8zXG0UZkBetGD.GLIO4XQQxpel3iaf"
    },
    {
      "_id": "ahvziH4JB2QQrezw",
      "name": "Illumination",
      "type": "feat",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<section class=\"secret\">\n<p> The swarm sheds dim light from its brains in a 5-foot radius, increases the illumination to bright light in a 5- to 20-foot radius (and dim light for an additional number of feet equal to the chosen radius), or extinguishes the light.</p>\n</section>\nThe [[lookup @name]] uses [[lookup @item.name]].\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Mordenkainen Presents: Monsters of the Multiverse",
          "page": "83",
          "custom": "",
          "license": ""
        },
        "activation": {
          "type": "bonus",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "",
          "units": "inst"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": ""
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": null,
          "amount": null,
          "scale": false
        },
        "ability": null,
        "actionType": null,
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "dc": null,
          "ability": "",
          "scaling": "flat"
        },
        "summons": null,
        "type": {
          "value": "monster",
          "subtype": ""
        },
        "properties": [],
        "requirements": "",
        "recharge": {
          "value": null,
          "charged": false
        }
      },
      "effects": [],
      "flags": {
        "ddbimporter": {
          "levelBonus": false,
          "dndbeyond": {}
        },
        "monsterMunch": {
          "titleHTML": "<strong>Illumination.</strong>",
          "fullName": "Illumination.",
          "actionCopy": false,
          "type": "bonus",
          "actionInfo": {
            "damage": {
              "parts": [],
              "versatile": ""
            },
            "baseAbility": null,
            "toHit": 0,
            "proficient": false,
            "extraAttackBonus": 0
          }
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default"
        },
        "midiProperties": {
          "confirmTargets": "default"
        }
      },
      "img": "icons/magic/light/explosion-star-glow-yellow.webp",
      "folder": null,
      "sort": 0,
      "ownership": {
        "default": 0
      },
      "_stats": {
        "systemId": null,
        "systemVersion": null,
        "coreVersion": "12.331",
        "createdTime": null,
        "modifiedTime": null,
        "lastModifiedBy": null,
        "compendiumSource": null,
        "duplicateSource": null
      },
      "_key": "!actors.items!42j8zXG0UZkBetGD.ahvziH4JB2QQrezw"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You speak a one-word command to a creature you can see within range. The target must succeed on a &amp;Reference[wis]{Wisdom} saving throw or follow the command on its next turn. The spell has no effect if the target is &amp;Reference[undead]{undead}, if it doesn't understand your language, or if your command is directly harmful to it.</p>\n<p>Some typical commands and their effects follow. You might issue a command other than one described here. If you do so, the DM determines how the target behaves. If the target can't follow your command, the spell ends.</p>\n<p><em><strong>Approach.</strong></em> The target moves toward you by the shortest and most direct route, ending its turn if it moves within 5 feet of you.</p>\n<p><em><strong>Drop.</strong></em> The target drops whatever it is holding and then ends its turn.</p>\n<p><em><strong>Flee.</strong></em> The target spends its turn moving away from you by the fastest available means.</p>\n<p><em><strong>Grovel.</strong></em> The target falls &amp;Reference[prone]{prone} and then ends its turn.</p>\n<p><em><strong>Halt.</strong></em> The target doesn't move and takes no actions. A flying creature stays aloft, provided that it is able to do so. If it must move to stay aloft, it flies the minimum distance needed to remain in the air.</p>\n<p><em><strong>At Higher Levels.</strong></em> When you cast this spell using a spell slot of 2nd level or higher, you can affect one additional creature for each slot level above 1st. The creatures must be within 30 feet of each other when you target them.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "223",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "round"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 1,
          "units": "",
          "type": "creature",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 60,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "wis",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 1,
        "school": "enc",
        "properties": [
          "vocal"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "atwill",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Command",
      "flags": {
        "ddbimporter": {
          "id": 136231,
          "definitionId": 2032,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Command",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 223,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "onUseMacroName": "[postSave]ItemMacro",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        },
        "dae": {
          "macro": {
            "name": "Command",
            "type": "script",
            "scope": "global",
            "command": "if (args[0].macroPass === \"postSave\" && workflow.failedSaves) {\n  let targets = workflow.failedSaves;\n  const commandWord = await globalThis.DDBImporter.DialogHelper.ChooserDialog.Ask(\n    [\n      {\n        label: \"What do you command?\",\n        type: \"text\",\n        value: \"\",\n        options: [\"\"]\n      }\n    ],\n    [\n      {\n        label: \"Cast!\",\n        value: \"1\",\n      }\n    ],\n    { title: \"🗣Command Spell\" }\n  );\n\n  for (let target of targets) {\n    MidiQOL.socket().executeAsGM(\"_gmSetFlag\", {\n      actorUuid: target.actor.uuid,\n      base: \"midi-qol\",\n      key: \"commandWord\",\n      value: commandWord.results[0],\n    });\n  }\n}\nif (args[0] === \"off\") {\n  let wordInput = await actor.getFlag(\"midi-qol\", \"commandWord\");\n  let content = `${actor.name} must use their action to \"${wordInput}\".`;\n  let actorPlayer = MidiQOL.playerForActor(actor);\n  let chatData = {\n    user: actorPlayer.id,\n    speaker: ChatMessage.getSpeaker({ token: token }),\n    content: content,\n  };\n  ChatMessage.create(chatData);\n  MidiQOL.socket().executeAsGM(\"_gmUnsetFlag\", { actorUuid: actor.uuid, base: \"midi-qol\", key: \"commandWord\" });\n}\n"
          }
        }
      },
      "effects": [
        {
          "changes": [
            {
              "key": "macro.itemMacro",
              "value": "",
              "mode": 0,
              "priority": 20
            }
          ],
          "duration": {
            "seconds": 12,
            "rounds": 1,
            "turns": 1,
            "startTime": null,
            "combat": null,
            "startRound": null,
            "startTurn": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName",
              "specialDuration": [
                "turnStart"
              ]
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Command",
          "statuses": [],
          "_id": "AyONgnEWlojwSpNu",
          "description": "",
          "origin": null,
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/skills/social/wave-halt-stop.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!42j8zXG0UZkBetGD.RUDuQQjjL6a6eOEI.AyONgnEWlojwSpNu"
        }
      ],
      "img": "icons/skills/social/wave-halt-stop.webp",
      "folder": "qUHjLOJ6GhNjE4HD",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "12.331",
        "createdTime": 1721274673247,
        "modifiedTime": 1721274673247,
        "lastModifiedBy": "6yhz13iFYYklKtgA",
        "compendiumSource": null,
        "duplicateSource": null
      },
      "sort": 0,
      "_id": "RUDuQQjjL6a6eOEI",
      "_key": "!actors.items!42j8zXG0UZkBetGD.RUDuQQjjL6a6eOEI"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>For the duration, you understand the literal meaning of any spoken language that you hear. You also understand any written language that you see, but you must be touching the surface on which the words are written. It takes about 1 minute to read one page of text.</p>\n<p>This spell doesn't decode secret messages in a text or a glyph, such as an arcane sigil, that isn't part of a written language.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "224",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "units": "",
          "type": "self",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "self"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "other",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 1,
        "school": "div",
        "properties": [
          "vocal",
          "somatic",
          "material",
          "ritual"
        ],
        "materials": {
          "value": "a pinch of soot and salt",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "atwill",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Comprehend Languages",
      "flags": {
        "ddbimporter": {
          "id": 136246,
          "definitionId": 2035,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Comprehend Languages",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 224,
              "sourceType": 1
            }
          ],
          "tags": [
            "Social"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [
        {
          "changes": [
            {
              "key": "system.traits.languages.all",
              "mode": 0,
              "value": "1",
              "priority": 20
            }
          ],
          "duration": {
            "seconds": 3600,
            "startTime": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Comprehend Languages",
          "statuses": [],
          "_id": "ZK9RCeDIUwf60Hck",
          "description": "",
          "origin": null,
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/sundries/documents/document-letter-formal-tan.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!42j8zXG0UZkBetGD.GogwgNugY21VFcVA.ZK9RCeDIUwf60Hck"
        }
      ],
      "img": "icons/sundries/documents/document-letter-formal-tan.webp",
      "folder": "Sve3VzpVw1SFqYSn",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "12.331",
        "createdTime": 1721274674726,
        "modifiedTime": 1721274674726,
        "lastModifiedBy": "6yhz13iFYYklKtgA",
        "compendiumSource": null,
        "duplicateSource": null
      },
      "sort": 0,
      "_id": "GogwgNugY21VFcVA",
      "_key": "!actors.items!42j8zXG0UZkBetGD.GogwgNugY21VFcVA"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>For the duration, you can read the thoughts of certain creatures. When you cast the spell and as your action on each turn until the spell ends, you can focus your mind on any one creature that you can see within 30 feet of you. If the creature you choose has an &amp;Reference[int]{Intelligence} of 3 or lower or doesn’t speak any language, the creature is unaffected.</p>\n<p>You initially learn the surface thoughts of the creature—what is most on its mind in that moment. As an action, you can either shift your attention to another creature’s thoughts or attempt to probe deeper into the same creature’s mind. If you probe deeper, the target must make a &amp;Reference[wis]{Wisdom} saving throw. If it fails, you gain &amp;Reference[ins]{insight} into its reasoning (if any), its emotional state, and something that looms large in its mind (such as something it worries over, loves, or hates). If it succeeds, the spell ends. Either way, the target knows that you are probing into its mind, and unless you shift your attention to another creature’s thoughts, the creature can use its action on its turn to make an &amp;Reference[int]{Intelligence} check contested by your &amp;Reference[int]{Intelligence} check; if it succeeds, the spell ends.</p>\n<p>Questions verbally directed at the target creature naturally shape the course of its thoughts, so this spell is particularly effective as part of an interrogation.</p>\n<p>You can also use this spell to detect the presence of thinking creatures you can’t see. When you cast the spell or as your action during the duration, you can search for thoughts within 30 feet of you. The spell can penetrate barriers, but 2 feet of rock, 2 inches of any metal other than lead, or a thin sheet of lead blocks you. You can’t detect a creature with an &amp;Reference[int]{Intelligence} of 3 or lower or one that doesn’t speak any language.</p>\n<p>Once you detect the presence of a creature in this way, you can read its thoughts for the rest of the duration as described above, even if you can’t see it, but it must still be within range.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "231",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": null,
          "width": null,
          "units": "",
          "type": "self",
          "prompt": true
        },
        "range": {
          "value": null,
          "long": null,
          "units": "self"
        },
        "uses": {
          "value": null,
          "max": "",
          "per": null,
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "util",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 2,
        "school": "div",
        "properties": [
          "vocal",
          "somatic",
          "material",
          "concentration"
        ],
        "materials": {
          "value": "a copper piece",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "atwill",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Detect Thoughts",
      "flags": {
        "ddbimporter": {
          "id": 136574,
          "definitionId": 2067,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Detect Thoughts",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 231,
              "sourceType": 1
            }
          ],
          "tags": [
            "Social",
            "Detection"
          ],
          "version": "5.1.27",
          "effectsApplied": true,
          "chrisEffectsApplied": true,
          "chrisPreEffectName": "Detect Thoughts"
        },
        "custom-character-sheet-sections": {
          "sectionName": ""
        },
        "midi-qol": {
          "effectActivation": false,
          "onUseMacroName": "[postActiveEffects]function.chrisPremades.macros.detectThoughts.item",
          "onUseMacroParts": {
            "items": {
              "0": {
                "macroName": "function.chrisPremades.macros.detectThoughts.item",
                "option": "postActiveEffects"
              }
            }
          },
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "nodam": false,
          "fulldam": false,
          "halfdam": false,
          "rollOther": false,
          "critOther": false,
          "magicdam": false,
          "magiceffect": false,
          "concentration": false,
          "toggleEffect": false,
          "autoFailFriendly": false,
          "offHandWeapon": false,
          "ignoreTotalCover": false,
          "autoSaveFriendly": false,
          "confirmTargets": "default"
        },
        "autoanimations": {
          "id": "7bf5c74e-fef9-4068-a08a-d09619b7e088",
          "label": "Detect Thoughts",
          "macro": {
            "enable": false,
            "playWhen": "0"
          },
          "menu": "aura",
          "primary": {
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "detectmagic",
              "variant": "01",
              "color": "purple",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": true,
              "alpha": false,
              "alphaMax": 0.5,
              "alphaMin": -0.5,
              "alphaDuration": 1000,
              "breath": false,
              "breathMax": 1.05,
              "breathMin": 0.95,
              "breathDuration": 1000,
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isRadius": true,
              "isWait": false,
              "opacity": 1,
              "playbackRate": 1,
              "playOn": "source",
              "size": 6,
              "tint": false,
              "tintColor": "#FFFFFF",
              "tintSaturate": 0,
              "unbindAlpha": false,
              "unbindVisibility": false,
              "zIndex": 1
            }
          },
          "secondary": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": true,
              "isWait": false,
              "opacity": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "size": 1.5,
              "zIndex": 1
            }
          },
          "soundOnly": {
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            }
          },
          "source": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": false,
              "isWait": true,
              "opacity": 1,
              "repeat": 1,
              "repeatDelay": 250,
              "size": 1,
              "zIndex": 1
            }
          },
          "target": {
            "enable": false,
            "video": {
              "dbSection": "static",
              "menuType": "spell",
              "animation": "curewounds",
              "variant": "01",
              "color": "blue",
              "enableCustom": false,
              "customPath": ""
            },
            "sound": {
              "enable": false,
              "delay": 0,
              "repeat": 1,
              "repeatDelay": 250,
              "startTime": 0,
              "volume": 0.75
            },
            "options": {
              "addTokenWidth": false,
              "anchor": "0.5",
              "delay": 0,
              "elevation": 1000,
              "fadeIn": 250,
              "fadeOut": 500,
              "isMasked": false,
              "isRadius": false,
              "opacity": 1,
              "persistent": false,
              "repeat": 1,
              "repeatDelay": 250,
              "size": 1,
              "unbindAlpha": false,
              "unbindVisibility": false,
              "zIndex": 1
            }
          },
          "isEnabled": true,
          "isCustomized": true,
          "fromAmmo": false,
          "version": 5
        },
        "exportSource": {
          "world": "development-testing",
          "system": "dnd5e",
          "coreVersion": "10.291",
          "systemVersion": "2.1.4"
        },
        "rest-recovery": {
          "data": {
            "recovery": {
              "enabled": false
            }
          }
        },
        "chris-premades": {
          "info": {
            "name": "Detect Thoughts",
            "version": "0.7.01",
            "mutation": {
              "self": "Detect Thoughts - Probe Deeper"
            }
          }
        },
        "dnd5e": {}
      },
      "effects": [],
      "img": "icons/commodities/biological/organ-brain-pink.webp",
      "folder": "Sve3VzpVw1SFqYSn",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "12.331",
        "createdTime": 1721274674767,
        "modifiedTime": 1721274674767,
        "lastModifiedBy": "6yhz13iFYYklKtgA",
        "compendiumSource": null,
        "duplicateSource": null
      },
      "sort": 0,
      "_id": "BGXbwBzEZCnvrR1W",
      "_key": "!actors.items!42j8zXG0UZkBetGD.BGXbwBzEZCnvrR1W"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>This spell assaults and twists creatures' minds, spawning delusions and provoking uncontrolled action. Each creature in a 10-foot-radius &amp;Reference[sphere]{sphere} centered on a point you choose within range must succeed on a &amp;Reference[wis]{Wisdom} saving throw when you cast this spell or be affected by it.</p>\n<p>An affected target can't take reactions and must roll a d10 at the start of each of its turns to determine its behavior for that turn.</p>\n<table>\n<thead>\n<tr>\n<th>d10</th>\n<th>Behavior</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.</td>\n</tr>\n<tr>\n<td>2-6</td>\n<td>The creature doesn't move or take actions this turn.</td>\n</tr>\n<tr>\n<td>7-8</td>\n<td>The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.</td>\n</tr>\n<tr>\n<td>9-10</td>\n<td>The creature can act and move normally.</td>\n</tr>\n</tbody>\n</table><div id=\"table-link\">@UUID[Compendium.world.ddb-lost-mines-phandelver-tables.RollTable.kYKdNvAUgqNvA9Iz]{Open RollTable Confusion: Behavior}</div>\n<p> </p>\n<p>At the end of each of its turns, an affected target can make a &amp;Reference[wis]{Wisdom} saving throw. If it succeeds, this effect ends for that target.</p>\n<p><strong>At Higher Levels.</strong> When you cast this spell using a spell slot of 5th level or higher, the radius of the &amp;Reference[sphere]{sphere} increases by 5 feet for each slot level above 4th.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "224",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "minute"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 10,
          "units": "ft",
          "type": "sphere",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 90,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": 1,
          "max": "1",
          "per": "day",
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "wis",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 4,
        "school": "enc",
        "properties": [
          "vocal",
          "somatic",
          "material",
          "concentration"
        ],
        "materials": {
          "value": "three nut shells",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "atwill",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Confusion",
      "flags": {
        "ddbimporter": {
          "id": 136256,
          "definitionId": 2038,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Confusion",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 224,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        },
        "dae": {
          "macro": {
            "name": "Confusion",
            "type": "script",
            "scope": "global",
            "command": "if (args[0] === \"each\") {\n  const findEffect = token.actor.effects.find((effect) => effect.name === \"Confusion\");\n\n  if (findEffect) {\n    const changeIndex = findEffect.changes.findIndex(\n      (change) =>\n        change.key === \"system.attributes.movement.all\" &&\n        change.mode === CONST.ACTIVE_EFFECT_MODES.CUSTOM &&\n        change.value === 0\n    );\n\n    if (changeIndex !== -1) {\n      findEffect.changes.splice(changeIndex, 1);\n\n      await MidiQOL.socket().executeAsGM(\"updateEffects\", {\n        actorUuid: token.actor.uuid,\n        updates: [{ _id: findEffect.id, changes: findEffect.changes }],\n      });\n    } else {\n      console.log(\"Specified change not found in the Confusion effect.\");\n    }\n  } else {\n    console.log(\"Confusion effect not found on the actor.\");\n  }\n\n  const hasEffectApplied = await game.dfreds.effectInterface.hasEffectApplied(\"Reaction\", token.actor.uuid);\n  if (!hasEffectApplied) {\n    game.dfreds.effectInterface.addEffect({ effectName: \"Reaction\", uuid: token.actor.uuid });\n  }\n\n  const confusionRoll = await new CONFIG.Dice.DamageRoll(\"1d10\").evaluate({ async: true });\n  await MidiQOL.displayDSNForRoll(confusionRoll, \"damageRoll\");\n  const result = confusionRoll.total;\n  let content;\n  let selectedTokenMessage;\n  let directionResult;\n  let directionContent;\n  switch (result) {\n    case 1: {\n      content = \"The creature uses all its movement to move in a random direction. To determine the direction, roll a d8 and assign a direction to each die face. The creature doesn't take an action this turn.\";\n      const directionRoll = await new CONFIG.Dice.DamageRoll(\"1d8\").evaluate({ async: true });\n      await MidiQOL.displayDSNForRoll(directionRoll, \"damageRoll\");\n      directionResult = directionRoll.total;\n      directionContent = null;\n      switch (directionResult) {\n        case 1:\n          directionContent = \"North\";\n          break;\n        case 2:\n          directionContent = \"South\";\n          break;\n        case 3:\n          directionContent = \"East\";\n          break;\n        case 4:\n          directionContent = \"West\";\n          break;\n        case 5:\n          directionContent = \"Northwest\";\n          break;\n        case 6:\n          directionContent = \"Northeast\";\n          break;\n        case 7:\n          directionContent = \"Southwest\";\n          break;\n        case 8:\n          directionContent = \"Southeast\";\n          break;\n      }\n      break;\n    }\n    case 2:\n    case 3:\n    case 4:\n    case 5:\n    case 6: {\n      content = \"The creature doesn't move or take actions this turn.\";\n      const findEffect = token.actor.effects.find((effect) => effect.name === \"Confusion\");\n      if (findEffect)\n        findEffect.changes.push({\n          key: \"system.attributes.movement.all\",\n          mode: CONST.ACTIVE_EFFECT_MODES.CUSTOM,\n          value: 0,\n          priority: 20,\n        });\n      await MidiQOL.socket().executeAsGM(\"updateEffects\", {\n        actorUuid: token.actor.uuid,\n        updates: [{ _id: findEffect.id, changes: findEffect.changes }],\n      });\n      break;\n    }\n    case 7:\n    case 8: {\n      content = \"The creature uses its action to make a melee attack against a randomly determined creature within its reach. If there is no creature within its reach, the creature does nothing this turn.\";\n      const rangeCheck = MidiQOL.findNearby(null, token.actor, token.actor.system.attributes.movement.walk, {\n        includeToken: false,\n      });\n      if (rangeCheck.length > 0) {\n        const randomSelection = rangeCheck[Math.floor(Math.random() * rangeCheck.length)];\n        selectedTokenMessage = `The creature must move to ${randomSelection.actor.name} and attack them with a melee attack.`;\n        if (game.modules.get(\"sequencer\")?.active) {\n          const target = randomSelection;\n          new Sequence()\n            .effect()\n            .from(target)\n            .belowTokens()\n            .attachTo(target, { locale: true })\n            .scaleToObject(1, { considerTokenScale: true })\n            .spriteRotation(target.rotation * -1)\n            .filter(\"Glow\", { color: 0x911a1a, distance: 15 })\n            .duration(30000)\n            .fadeIn(2000, { delay: 1000 })\n            .fadeOut(3500, { ease: \"easeInSine\" })\n            .opacity(0.8)\n            .zIndex(0.1)\n            .loopProperty(\"alphaFilter\", \"alpha\", { values: [0.5, 0], duration: 1000, pingPong: true, delay: 500 })\n            .effect()\n            .file(\"jb2a.extras.tmfx.outflow.circle.01\")\n            .attachTo(target, { locale: true })\n            .scaleToObject(3, { considerTokenScale: false })\n            .randomRotation()\n            .duration(30000)\n            .fadeIn(5000, { delay: 1000 })\n            .fadeOut(3500, { ease: \"easeInSine\" })\n            .scaleIn(0, 3500, { ease: \"easeInOutCubic\" })\n            .tint(0x870101)\n            .opacity(0.5)\n            .belowTokens()\n            .play();\n        }\n      } else {\n        selectedTokenMessage = `The creature does nothing this turn.`;\n      }\n      break;\n    }\n    case 9:\n    case 10:\n      content = \"The creature can act and move normally.\";\n      break;\n  }\n  ChatMessage.create({ content: `Confusion roll for ${token.actor.name} is ${result}:<br> ` + content });\n  if (result === 1)\n    ChatMessage.create({\n      content: `Movement roll for ${token.actor.name} is ${directionResult}: ${token.actor.name} must move ${directionContent} using all (${token.actor.system.attributes.movement.walk} feet) of their movement.`,\n    });\n  if (result === 7 || result === 8) ChatMessage.create({ content: selectedTokenMessage });\n}\n\nif (args[0] === \"off\") {\n  const findEffect = token.actor.effects.find((effect) => effect.name === \"Confusion\");\n\n  if (findEffect) {\n    const changeIndex = findEffect.changes.findIndex(\n      (change) =>\n        change.key === \"system.attributes.movement.all\" &&\n        change.mode === CONST.ACTIVE_EFFECT_MODES.CUSTOM &&\n        change.value === 0\n    );\n\n    if (changeIndex !== -1) {\n      findEffect.changes.splice(changeIndex, 1);\n\n      await MidiQOL.socket().executeAsGM(\"updateEffects\", {\n        actorUuid: token.actor.uuid,\n        updates: [{ _id: findEffect.id, changes: findEffect.changes }],\n      });\n    } else {\n      console.log(\"Specified change not found in the Confusion effect.\");\n    }\n  } else {\n    console.log(\"Confusion effect not found on the actor.\");\n  }\n}\n"
          }
        }
      },
      "effects": [
        {
          "changes": [
            {
              "key": "flags.midi-qol.OverTime",
              "mode": 5,
              "value": "label=Confusion (End of Turn),turn=end,saveAbility=wis,saveDC=@attributes.spelldc,saveMagic=true,killAnim=true",
              "priority": 20
            },
            {
              "key": "macro.itemMacro",
              "value": "",
              "mode": 0,
              "priority": 20
            }
          ],
          "duration": {
            "seconds": null,
            "startTime": null,
            "rounds": 10,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName",
              "macroRepeat": "startEveryTurn"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Confusion",
          "statuses": [],
          "_id": "zwoSXsak3zGDDOwW",
          "description": "",
          "origin": null,
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/magic/air/air-burst-spiral-teal-green.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!42j8zXG0UZkBetGD.BXyZF2xOoTjtE4x9.zwoSXsak3zGDDOwW"
        }
      ],
      "img": "icons/magic/air/air-burst-spiral-teal-green.webp",
      "folder": "qUHjLOJ6GhNjE4HD",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "12.331",
        "createdTime": 1721274673990,
        "modifiedTime": 1721274673990,
        "lastModifiedBy": "6yhz13iFYYklKtgA",
        "compendiumSource": null,
        "duplicateSource": null
      },
      "sort": 0,
      "_id": "BXyZF2xOoTjtE4x9",
      "_key": "!actors.items!42j8zXG0UZkBetGD.BXyZF2xOoTjtE4x9"
    },
    {
      "type": "spell",
      "system": {
        "description": {
          "value": "<div class=\"ddb\">\n<p>You attempt to beguile a creature that you can see within range. It must succeed on a &amp;Reference[wis]{Wisdom} saving throw or be &amp;Reference[charmed]{charmed} by you for the duration. If you or creatures that are friendly to you are fighting it, it has advantage on the saving throw.</p>\n<p>While the creature is &amp;Reference[charmed]{charmed}, you have a telepathic link with it as long as the two of you are on the same plane of existence. You can use this telepathic link to issue commands to the creature while you are conscious (no action required), which it does its best to obey. You can specify a simple and general course of action, such as \"Attack that creature,\" \"Run over there,\" or \"Fetch that object.\" If the creature completes the order and doesn't receive further direction from you, it defends and preserves itself to the best of its ability.</p>\n<p>You can use your action to take total and precise control of the target. Until the end of your next turn, the creature takes only the actions you choose, and doesn't do anything that you don't allow it to do. During this time, you can also cause the creature to use a reaction, but this requires you to use your own reaction as well.</p>\n<p>Each time the target takes damage, it makes a new &amp;Reference[wis]{Wisdom} saving throw against the spell. If the saving throw succeeds, the spell ends.</p>\n<p><em><strong>At Higher Levels.</strong></em> When you cast this spell with a 9th-level spell slot, the duration is &amp;Reference[concentration]{concentration}, up to 8 hours.</p>\n</div>",
          "chat": ""
        },
        "source": {
          "book": "Player’s Handbook",
          "page": "235",
          "license": "",
          "custom": ""
        },
        "activation": {
          "type": "action",
          "cost": 1,
          "condition": ""
        },
        "duration": {
          "value": "1",
          "units": "hour"
        },
        "cover": null,
        "crewed": false,
        "target": {
          "value": 1,
          "units": "",
          "type": "creature",
          "width": null,
          "prompt": true
        },
        "range": {
          "value": 60,
          "long": null,
          "units": "ft"
        },
        "uses": {
          "value": 1,
          "max": "1",
          "per": "day",
          "recovery": "",
          "prompt": true
        },
        "consume": {
          "type": "",
          "target": "",
          "amount": null,
          "scale": false
        },
        "ability": "",
        "actionType": "save",
        "attack": {
          "bonus": "",
          "flat": false
        },
        "chatFlavor": "",
        "critical": {
          "threshold": null,
          "damage": ""
        },
        "damage": {
          "parts": [],
          "versatile": ""
        },
        "formula": "",
        "save": {
          "ability": "wis",
          "dc": null,
          "scaling": "spell"
        },
        "summons": null,
        "level": 8,
        "school": "enc",
        "properties": [
          "vocal",
          "somatic",
          "concentration"
        ],
        "materials": {
          "value": "",
          "consumed": false,
          "cost": 0,
          "supply": 0
        },
        "preparation": {
          "mode": "atwill",
          "prepared": true
        },
        "scaling": {
          "mode": "none",
          "formula": ""
        }
      },
      "name": "Dominate Monster",
      "flags": {
        "ddbimporter": {
          "id": 136656,
          "definitionId": 2077,
          "entityTypeId": 435869154,
          "dndbeyond": {
            "lookup": "generic",
            "lookupName": "generic",
            "level": null,
            "castAtLevel": null
          },
          "originalName": "Dominate Monster",
          "sources": [
            {
              "sourceId": 1,
              "pageNumber": null,
              "sourceType": 2
            },
            {
              "sourceId": 2,
              "pageNumber": 235,
              "sourceType": 1
            }
          ],
          "tags": [
            "Control"
          ],
          "version": "5.1.27",
          "effectsApplied": true
        },
        "midi-qol": {
          "removeAttackDamageButtons": "default",
          "forceCEOff": true
        },
        "midiProperties": {
          "confirmTargets": "default",
          "magicdam": true,
          "magiceffect": true
        }
      },
      "effects": [
        {
          "changes": [
            {
              "key": "macro.CE",
              "mode": 0,
              "value": "Charmed",
              "priority": 20
            }
          ],
          "duration": {
            "seconds": 3600,
            "startTime": null,
            "rounds": null,
            "turns": null,
            "startRound": null,
            "startTurn": null,
            "combat": null
          },
          "tint": "#ffffff",
          "transfer": false,
          "disabled": false,
          "flags": {
            "dae": {
              "transfer": false,
              "stackable": "noneName"
            },
            "ddbimporter": {
              "disabled": false
            },
            "midi-qol": {
              "forceCEOff": true
            },
            "core": {}
          },
          "name": "Dominate Monster - Charmed",
          "statuses": [],
          "_id": "58qQecyzGEp3kuUA",
          "description": "",
          "origin": null,
          "_stats": {
            "coreVersion": "12.331",
            "systemId": null,
            "systemVersion": null,
            "createdTime": null,
            "modifiedTime": null,
            "lastModifiedBy": null,
            "compendiumSource": null,
            "duplicateSource": null
          },
          "img": "icons/creatures/unholy/demon-horned-black-yellow.webp",
          "type": "base",
          "system": {},
          "sort": 0,
          "_key": "!actors.items.effects!42j8zXG0UZkBetGD.0x0MdOl5WxD2cDAv.58qQecyzGEp3kuUA"
        }
      ],
      "img": "icons/creatures/unholy/demon-horned-black-yellow.webp",
      "folder": "qUHjLOJ6GhNjE4HD",
      "ownership": {
        "default": 0,
        "6yhz13iFYYklKtgA": 3
      },
      "_stats": {
        "systemId": "dnd5e",
        "systemVersion": "3.1.2",
        "coreVersion": "12.331",
        "createdTime": 1721274674796,
        "modifiedTime": 1721274674796,
        "lastModifiedBy": "6yhz13iFYYklKtgA",
        "compendiumSource": null,
        "duplicateSource": null
      },
      "sort": 0,
      "_id": "0x0MdOl5WxD2cDAv",
      "_key": "!actors.items!42j8zXG0UZkBetGD.0x0MdOl5WxD2cDAv"
    }
  ],
  "effects": [],
  "folder": "ESzjRzm6DRDI0Q26",
  "sort": 0,
  "ownership": {
    "default": 0,
    "6yhz13iFYYklKtgA": 3
  },
  "flags": {
    "dnd5e": {},
    "monsterMunch": {
      "url": "https://www.dndbeyond.com/monsters/2560934-swarm-of-cranium-rats",
      "img": "https://www.dndbeyond.com/avatars/25746/697/637880558073379029.png",
      "tokenImg": "https://www.dndbeyond.com/avatars/25746/696/637880558072269003.jpeg",
      "isStockImg": false,
      "spellList": {
        "class": [],
        "pact": [],
        "atwill": [
          "command",
          "comprehend languages",
          "detect thoughts"
        ],
        "innate": [
          {
            "name": "confusion",
            "type": "day",
            "value": "1",
            "innate": false
          },
          {
            "name": "dominate monster",
            "type": "day",
            "value": "1",
            "innate": false
          }
        ],
        "edgeCases": [],
        "material": true,
        "innateMatch": false
      }
    },
    "ddbimporter": {
      "id": 2560934,
      "entityTypeId": 779871897,
      "creatureGroupId": null,
      "creatureFlags": [],
      "version": "5.1.27",
      "isLegacy": false,
      "flatAC": false
    }
  },
  "_stats": {
    "systemId": "dnd5e",
    "systemVersion": "3.3.1",
    "coreVersion": "12.331",
    "createdTime": 1721275333782,
    "modifiedTime": 1730039007655,
    "lastModifiedBy": "6yhz13iFYYklKtgA",
    "compendiumSource": null,
    "duplicateSource": null
  },
  "_key": "!actors!42j8zXG0UZkBetGD"
}
